{
	images: [
		{
			name: "depth_mips",
			lod: 8,
			internalFormat: "R32F",
			pixelFormat: "RED",
			pixelDataType: "FLOAT",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "NEAREST_MIPMAP_NEAREST"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "NEAREST"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "ssao",
			lod: 0,
			internalFormat: "R8",
			pixelFormat: "RED",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "ssao_copy",
			lod: 0,
			internalFormat: "R8",
			pixelFormat: "RED",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "sky_display",
			lod: 0,
			internalFormat: "R11F_G11F_B10F",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "deferred_solid",
			lod: 0,
			internalFormat: "R11F_G11F_B10F",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "sort",
			lod: 0,
			internalFormat: "RGBA16F",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "composite_depth",
			lod: 0,
			internalFormat: "R32F",
			pixelFormat: "RED",
			pixelDataType: "FLOAT",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "NEAREST"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "NEAREST"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
		{
			name: "sort_copy",
			lod: 0,
			internalFormat: "R11F_G11F_B10F",
			pixelFormat: "RGBA",
			pixelDataType: "UNSIGNED_BYTE",
			target: "TEXTURE_2D",
			texParams: [
				{
					name: "TEXTURE_MIN_FILTER", val: "LINEAR"
				}, 
				{
					name: "TEXTURE_MAG_FILTER", val: "LINEAR"
				},
				{
					name: "TEXTURE_WRAP_S", val: "CLAMP_TO_EDGE"
				}, 
				{
					name: "TEXTURE_WRAP_T", val: "CLAMP_TO_EDGE"
				}
			]
		},
	],

	framebuffers: [
		{
			name: "depth_mips_0",
			colorAttachments: [{image: "depth_mips", lod: 0}]
		},
		{
			name: "depth_mips_2",
			colorAttachments: [{image: "depth_mips", lod: 2}]
		},
		{
			name: "depth_mips_4",
			colorAttachments: [{image: "depth_mips", lod: 4}]
		},
		{
			name: "depth_mips_6",
			colorAttachments: [{image: "depth_mips", lod: 6}]
		},
		{
			name: "depth_mips_8",
			colorAttachments: [{image: "depth_mips", lod: 8}]
		},
		{
			name: "ssao",
			colorAttachments: [
				{
					image: "ssao", clearColor: 0x00000000
				}
			]
		},
		{
			name: "ssao_copy",
			colorAttachments: [
				{
					image: "ssao_copy", clearColor: 0x00000000
				}
			]
		},
		{
			name: "sky_display",
			colorAttachments: [
				{
					image: "sky_display", clearColor: 0x00000000
				}
			]
		},
		{
			name: "deferred_solid",
			colorAttachments: [
				{
					image: "deferred_solid", clearColor: 0x00000000
				}
			]
		},
		{
			name: "sort",
			colorAttachments: [
				{
					image: "sort", clearColor: 0x00000000
				},
				{
					image: "composite_depth", clearColor: 0x00000000
				}
			]
		},
		{
			name: "sort_copy",
			colorAttachments: [
				{
					image: "sort_copy", clearColor: 0x00000000
				}
			]
		},
		{
			name: "copy_to_main",
			colorAttachments: [
				{
					image: "main_color", clearColor: 0x00000000
				}
			]
		}
	],

	programs: [
		{
			name: "depth_downsample",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/depth_downsample.frag",
			samplers: [
				"u_depth"
			]
		},
		{
			name: "ssao",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/ssao/ssao.frag",
			samplers: [
				"u_depth",
				"u_data",
				"u_blue_noise"
			]
		},
		{
			name: "ssao_blur_v",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/ssao/ssao_blur_v.frag",
			samplers: [
				"u_ssao",
				"u_depth"
			]
		},
		{
			name: "ssao_blur_h",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/ssao/ssao_blur_h.frag",
			samplers: [
				"u_ssao",
				"u_depth"
			]
		},
		{
			name: "sky_display",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/sky_display.frag",
			samplers: [
				"u_transmittance",
				"u_sky_day",
				"u_sky_night"
			]
		},
		{
			name: "deferred_solid",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/deferred_solid.frag",
			samplers: [
				"u_color",
				"u_data",
				"u_depth",
				"u_ssao",

				"u_shadow_map",
				"u_shadow_tex",

				"u_skybox",

				"u_transmittance",
				"u_sky_display"
			]
		},
		{
			name: "sort",
			vertexSource: "forgetmenot:shaders/post/frame_full.vert",
			fragmentSource: "forgetmenot:shaders/post/fabulous/sort.frag",
			samplers: [
				"u_previous_color",
,
				"u_main_color",
				"u_main_depth",
				"u_translucent_color",
				"u_translucent_depth",
				"u_entity_color",
				"u_entity_depth",
				"u_weather_color",
				"u_weather_depth",
				"u_clouds_color",
				"u_clouds_depth",
				"u_particles_color",
				"u_particles_depth",

				"u_depths",

				"u_data",
				"u_vertex_normal",

				"u_skybox",
				"u_multiscattering",

				"u_bloomed_color",
				"u_shadow_map"
			]
		}
	],

	fabulous: {
		passes: [
			{
				name: "depth_mips_0",
				program: "copy",
				framebuffer: "depth_mips_0",
				samplerImages: [
					"translucent_depth"
				],
				lod: 0
			},
			{
				name: "depth_mips_2",
				program: "depth_downsample",
				framebuffer: "depth_mips_2",
				samplerImages: [
					"depth_mips"
				],
				lod: 2
			},
			{
				name: "depth_mips_4",
				program: "depth_downsample",
				framebuffer: "depth_mips_4",
				samplerImages: [
					"depth_mips"
				],
				lod: 4
			},
			{
				name: "depth_mips_6",
				program: "depth_downsample",
				framebuffer: "depth_mips_6",
				samplerImages: [
					"depth_mips"
				],
				lod: 6
			},
			{
				name: "depth_mips_8",
				program: "depth_downsample",
				framebuffer: "depth_mips_8",
				samplerImages: [
					"depth_mips"
				],
				lod: 8
			},
			// {
			// 	name: "ssao",
			// 	program: "ssao",
			// 	framebuffer: "ssao",
			// 	samplerImages: [
			// 		"particles_depth",
			// 		"main_data",
			// 		"forgetmenot:textures/blue_noise.png"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_v",
			// 	program: "ssao_blur_v",
			// 	framebuffer: "ssao_copy",
			// 	samplerImages: [
			// 		"ssao",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_h",
			// 	program: "ssao_blur_h",
			// 	framebuffer: "ssao",
			// 	samplerImages: [
			// 		"ssao_copy",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_v_2",
			// 	program: "ssao_blur_v",
			// 	framebuffer: "ssao_copy",
			// 	samplerImages: [
			// 		"ssao",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_h_2",
			// 	program: "ssao_blur_h",
			// 	framebuffer: "ssao",
			// 	samplerImages: [
			// 		"ssao_copy",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_v_3",
			// 	program: "ssao_blur_v",
			// 	framebuffer: "ssao_copy",
			// 	samplerImages: [
			// 		"ssao",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_h_3",
			// 	program: "ssao_blur_h",
			// 	framebuffer: "ssao",
			// 	samplerImages: [
			// 		"ssao_copy",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_v_4",
			// 	program: "ssao_blur_v",
			// 	framebuffer: "ssao_copy",
			// 	samplerImages: [
			// 		"ssao",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			// {
			// 	name: "ssao_blur_h_4",
			// 	program: "ssao_blur_h",
			// 	framebuffer: "ssao",
			// 	samplerImages: [
			// 		"ssao_copy",
			// 		"particles_depth"
			// 	],
			// 	lod: 1
			// },
			{
				name: "sky_display",
				program: "sky_display",
				framebuffer: "sky_display",
				samplerImages: [
					"transmittance_lut",
					"sky_lut",
					"sky_lut_night",
				],
				lod: 1
			},
			{
				name: "deferred_solid",
				program: "deferred_solid",
				framebuffer: "deferred_solid",
				samplerImages: [
					"main_color",
					"main_data",
					"main_depth",
					"ssao",

					"shadow_map",
					"shadow_map",

					"skybox",

					"transmittance_lut",
					"sky_display"
				]
			},
			{
				name: "sort",
				program: "sort",
				framebuffer: "sort",
				samplerImages: [
					"sort_copy",

					"deferred_solid",
					"main_depth",
					"translucent_color",
					"translucent_depth",
					"entity_color",
					"entity_depth",
					"weather_color",
					"weather_depth",
					"clouds_color",
					"clouds_depth",
					"particles_color",
					"particles_depth",

					"depth_mips",

					"composite_data",
					"vertex_normal",

					"skybox",
					"multiscattering_lut",

					"bloom_downsample",
					"shadow_map"
				]
			},
			{
				name: "copy",
				program: "copy",
				framebuffer: "copy_to_main",
				samplerImages: [
					"sort"
				]
			},
			{
				name: "sort_copy",
				program: "copy",
				framebuffer: "sort_copy",
				samplerImages: [
					"sort"
				]
			}
		]
	}
}